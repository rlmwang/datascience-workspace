<!DOCTYPE html>
<html lang="en">
<head>
    <title>
      {{ config['PROJECT']}} @ {{ config['COMPANY'] }}
    </title>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" 
        href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" 
        href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>

    <style>

        body {
          margin: 0;
          display: flex;
          height: 100vh;
        }

        .mdc-drawer-app-content {
          flex: auto;
          overflow: auto;
          position: relative;
        }

        .main-content {
          overflow: auto;
          height: 100%;
        }


    </style>
</head>
<body>
  <aside class="mdc-drawer mdc-drawer--modal">
    <div class="mdc-drawer__header">
      <h3 class="mdc-drawer__title">
        {{ config['PROJECT'] }}
      </h3>
      <h6 class="mdc-drawer__subtitle">
        @ {{ config['COMPANY'] }}
      </h6>
    </div>
    <div class="mdc-drawer__content">
      {{ sitemap|safe }}
    </div>
  </aside>


  <div class="mdc-drawer-scrim"></div>
    

  <div>
    <header class="mdc-top-app-bar app-bar" id="app-bar">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
          <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button">
            menu
          </button>
          <span class="mdc-top-app-bar__title">
            {{ url_for(request.endpoint) }}
          </span>
        </section>
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
          <a class="material-icons mdc-top-app-bar__action-item mdc-icon-button" 
          aria-label="LinkedIn" href="{{ config['LINKEDIN'] }}">
          <span class="iconify" data-icon="mdi:linkedin" data-inline="false"></span>
        </a>
        <a class="material-icons mdc-top-app-bar__action-item mdc-icon-button" 
            aria-label="Email" href="{{ config['EMAIL'] }}">
          email
        </a>
        <a class="material-icons mdc-top-app-bar__action-item mdc-icon-button" 
            aria-label="Website" href="{{ config['WEBSITE'] }}">
          public
        </a>
          <a class="material-icons mdc-top-app-bar__action-item mdc-icon-button" 
              aria-label="Github" href="{{ config['GITHUB'] }}">
            <span class="iconify" data-icon="mdi:github" data-inline="false"></span>
          </a>
        </section>
      </div>
    </header>

    
    <div class="mdc-top-app-bar--fixed-adjust">
      <main class="main-content" id="main-content">
        <div class="mdc-layout-grid">
          <div class="mdc-layout-grid__inner">
            <div class="mdc-layout-grid__cell">
              {% include inputs_template %}
            </div>
            <div class="mdc-layout-grid__cell">
              {% include output_template %}
            </div>
          </div>
        </div>
      </main>
    </div>

  </div>  
</body>
</html>


<script>

  const main = document.getElementById('main-content');
  const list = document.querySelector('.mdc-list');

  const drawer =  mdc.drawer.MDCDrawer.attachTo(
    document.querySelector('.mdc-drawer')
  );
  const topAppBar = mdc.topAppBar.MDCTopAppBar.attachTo(
    document.getElementById('app-bar')
  );
  
  topAppBar.setScrollTarget(main);
  topAppBar.listen('MDCTopAppBar:nav', () => {
    drawer.open = !drawer.open;
  });
  
  list.addEventListener('click', (event) => {
    drawer.open = false;
  });

  document.body.addEventListener('MDCDrawer:closed', () => {
    main.querySelector('input, button').focus();
  });

  mdc.list.MDCList.attachTo(list).wrapFocus = true;
</script>