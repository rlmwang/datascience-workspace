{# 
    List of macros for fields in forms 
#}


{% macro boolean(name, value=False) -%}
<div class="mdc-form-field" id="form-field-{{ name }}">
    <div class="mdc-checkbox">

        <input type="checkbox"
            class="mdc-checkbox__native-control"
            id="checkbox-{{ name }}"
            name="{{ name }}"
        />

        <div class="mdc-checkbox__background">
            <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                <path class="mdc-checkbox__checkmark-path"
                    fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
            </svg>
            <div class="mdc-checkbox__mixedmark"></div>
        </div>  
        <div class="mdc-checkbox__ripple"></div>
    </div>
    <label for="checkbox-{{ name }}">
        {{ name }}
    </label>
</div>

<script>
    var formField = document.getElementById("form-field-{{ name }}");
    var checkbox = document.getElementById("checkbox-{{ name }}");
    mdc.formField.MDCFormField.attachTo(formfield);
    mdc.checkbox.MDCCheckbox.attachTo(checkbox);
    formField.input = checkbox;
</script>

<style>
    .mdc-form-field {
        margin: 5px auto;
        width: 90%;
    }
</style>
{%- endmacro %}


{% macro number(name, value=None) -%}
<label class="mdc-text-field mdc-text-field--filled" id="textfield-{{ name }}">
    <span class="mdc-text-field__ripple"></span>
    <span class="mdc-floating-label">{{ name }}</span>
    <input 
        type="number"
        step="1"
        name="{{ name }}" 
        class="mdc-text-field__input"
        aria-labelledby="{{ name }}" 
        required
    >
    <span class="mdc-line-ripple">
    </span>
</label>

<script>
    var textfield = document.getElementById("textfield-{{ name }}");
    mdc.textField.MDCTextField.attachTo(textfield);
</script>

<style>
    .mdc-text-field {
        margin: 5px auto;
        width: 90%;
    }
</style>
{%- endmacro %}


{% macro categorical(name, categories) -%}
<label class="mdc-text-field mdc-text-field--filled" id="dropdown-{{ name }}">
    <span class="mdc-text-field__ripple"></span>
    <span class="mdc-floating-label">{{ name }}</span>
    <input 
        type="text"
        name="{{ name }}" 
        class="mdc-text-field__input"
        aria-labelledby="{{ name }}" 
        required
    >
    <span class="mdc-line-ripple">
    </span>
</label>

<div class="mdc-menu mdc-menu-surface">
    <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">
        {% for cat in categories %}
        <li class="mdc-list-item" role="menuitem">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">A Menu Item</span>
        </li>
        {% endfor %}
    </ul>
</div>

<style>
    .mdc-text-field {
        margin: 5px auto;
        width: 90%;
    }
</style>

<script>
    var textfield = document.getElementById("dropdown-{{ name }}");
    mdc.textField.MDCTextField.attachTo(textfield);
</script>
{% endmacro %}